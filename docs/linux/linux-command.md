# Linux常用命令总结

# 常见命令

## 基本命令

| 序号 | 命令                    | 命令解释                 | 备注                         |
| ---- | ----------------------- | ------------------------ | ---------------------------- |
| 1    | **ls**                  | 查看当前目录下的内容     |                              |
| 2    | **pwd**                 | 查看当前目录             |                              |
| 3    | **cd** [目录名]         | 打开目录                 |                              |
| 4    | **touch** [文件名]      | 如果文件不存在，新建文件 |                              |
| 5    | **mkdir**  [文件夹名称] | 创建文件夹               | **mkdir -p**  创建多级文件夹 |
| 6    | **rm**  [文件名]        | 删除文件                 | **rm -rf**       删除文件夹  |
| 7    | **clear**               | 清屏                     |                              |

## 其他命令

### 查找文件

**find**

find 命令功能非常强大，通常用来在 特定的目录下 搜索 符合条件的文件

| 序号 | 命令                     | 命令解释                                      | 备注 |
| ---- | ------------------------ | --------------------------------------------- | ---- |
| 1    | find [路径] -name “*.py” | 查找指定路径下扩展名是 .py 的文件，包括子目录 |      |

- 如果省略路径，表示在当前文件夹下查找
- 之前学习的通配符，在使用 find 命令时同时可用

**演示**

1. 搜索桌面目录下，文件名包含 1 的文件

``` shell
find -name "*1*"
```

2. 搜索桌面目录下，所有以 .txt 为扩展名的文件

``` shell
find -name "*.txt"
```

3. find -name "*.txt"

``` shell
find -name "1*"
```

### 软链接

| 序号 | 命令                          | 命令解释                                                    | 备注 |
| ---- | ----------------------------- | ----------------------------------------------------------- | ---- |
| 1    | ln -s 被链接的源文件 链接文件 | 建立文件的软链接，用通俗的方式讲类似于 Windows 下的快捷方式 |      |

   ln -s /usr/local/jdk_1.8.XXX  jdk

注意：

1. 没有 `-s` 选项建立的是一个 硬链接文件两个文件占用相同大小的硬盘空间，工作中**几乎不会建立文件的硬链接**
2. 源文件要**使用绝对路径**，不能使用相对路径，这样可以方便移动链接文件后，仍然能够正常使用

### 压缩/解压

**tar**

| 序号 | 命令 | 命令解释     | 备注 |
| ---- | ---- | ------------ | ---- |
| 1    | tar  | 压缩解压命令 |      |

命令演示

``` shell
# 压缩文件
tar -zcvf 打包文件.tar.gz 被压缩的文件／路径...

# 解压缩文件
tar -zxvf 打包文件.tar.gz

# 解压缩到指定路径
tar -zxvf 打包文件.tar.gz -C 目标路径
# 解压到/usr/local/jdk
tar -zxvf jdk.tar.gz -C /usr/local/jdk
```

### 文件和目录常用命令

#### ls 命令说明

- ls 是英文单词 list 的简写，其功能为列出目录的内容，是用户最常用的命令之一，类似于 DOS下的 dir 命令

| 序号 | 命令  | 命令解释                                     | 备注 |
| ---- | ----- | -------------------------------------------- | ---- |
| 1    | ls -a | 显示指定目录下所有子目录与文件，包括隐藏文件 |      |
| 2    | ls -l | 以列表方式显示文件的详细信息                 |      |
| 3    | ls -h | 配合 -l 以人性化的方式显示文件大小           |      |

注意：以 . 开头的文件为隐藏文件，需要用 -a 参数才能显示

### 拷贝和移动文件

| 序号 | 命令               | 解释                                 | 备注 |
| ---- | ------------------ | ------------------------------------ | ---- |
| 1    | cp 源文件目标文件  | 复制文件或者目录                     |      |
| 2    | mv 源文件 目标文件 | 移动文件或者目录／文件或者目录重命名 |      |
| 3    | tree [目录名]      | 以树状图列出文件目录结构             |      |

**cp   复制文件**

- cp 命令的功能是将给出的 **文件 或 目录** 复制到另一个 **文件 或 目录** 中，相当DOS 下的 copy命令

| 选项 | 解释                                                         | 备注 |
| ---- | ------------------------------------------------------------ | ---- |
| -i   | 覆盖文件前提示                                               |      |
| -r   | 若给出的源文件是目录文件，则 cp 将递归复制该目录下的所有子目录和文件，目标文件必 |      |

注意：须为一个目录名

**mv  移动文件**

- mv 命令可以用来 移动 文件 或 目录，也可以给 文件或目录重命名

| 选项 | 解释           | 备注 |
| ---- | -------------- | ---- |
| -i   | 覆盖文件前提示 |      |

**tree  以树状图列出文件目录结构**

- tree 命令可以以树状图列出文件目录结构

- 

| 选项 | 解释       | 备注 |
| ---- | ---------- | ---- |
| -d   | 只显示目录 |      |

### 查看文件内容

**cat**	

- cat 命令可以用来 查看文件内容、创建文件、文件合并、追加文件内容 等功能
- cat 会一次显示所有的内容，适合 查看内容较少 的文本文件

| 选项 | 解释               | 备注 |
| ---- | ------------------ | ---- |
| -b   | 对非空输出行编号   |      |
| -n   | 对输出的所有行编号 |      |

Linux 中还有一个 nl 的命令和 cat -b 的效果等价

**more**

- more 命令可以用于分屏显示文件内容，每次只显示一页内容
- 适合于 查看内容较多的文本文件

| 选项   | 解释                    | 备注 |
| ------ | ----------------------- | ---- |
| 空格键 | 显示手册页的下一屏      |      |
| Enter  | 键 一次滚动手册页的一行 |      |
| b      | 回滚一屏                |      |
| f      | 前滚一屏                |      |
| q      | 退出                    |      |
| /word  | 搜索 word 字符串        |      |

**tail**

tail -f [文件名]  查看实时的文件内容

**grep**

Linux 系统中 grep 命令是一种强大的文本搜索工具
grep 允许对文本文件进行 模式查找，所谓模式查找，又被称为正则表达式。

- 

| 选项 | 解释                                    | 备注 |
| ---- | --------------------------------------- | ---- |
| -n   | 显示匹配行及行号                        |      |
| -v   | 显示不包含匹配文本的所有行（相当于求反) |      |
| -i   | 忽略大小写                              |      |

**其他**
echo 文字内容
echo 会在终端中显示参数指定的文字，通常会和 重定向 联合使用

重定向 > 和 >>
Linux 允许将命令执行结果 重定向到一个 文件
将本应显示在终端上的内容 输出／追加 到指定文件中

### 用户权限相关命令

| 序号 | 命令                      | 解释                      |
| ---- | ------------------------- | ------------------------- |
| 1    | groupadd 组名             | 添加组                    |
| 2    | groupdel 组名             | 删除组                    |
| 3    | cat /etc/group            | 确认组信息                |
| 4    | chgrp -R 组名 文件/目录名 | 递归修改文件/目录的所属组 |

### 修改文件权限

| 序号 | 命令  | 作用       |
| ---- | ----- | ---------- |
| 01   | chown | 修改拥有者 |
| 02   | chgrp | 修改组     |
| 03   | chmod | 修改权限   |

命令格式如下：

```shell
# 修改文件|目录的拥有者
chown 用户名 文件名|目录名
# 递归修改文件|目录的组
chgrp -R 组名 文件名|目录名
# 递归修改文件权限
chmod -R 755 文件名|目录名
```

### 关机/重启

| 序号 | 命令     | 对应英文           | 作用           |
| ---- | -------- | ------------------ | -------------- |
| 01   | shutdown | 选项 时间 shutdown | 关机／重新启动 |

常用命令示例

``` shell
# 重新启动操作系统，其中 now 表示现在
$ shutdown -r now
# 立刻关机，其中 now 表示现在
$ shutdown now
# 系统在今天的 20:25 会关机
$ shutdown 20:25
# 系统再过十分钟后自动关机
$ shutdown +10
# 取消之前指定的关机计划
$ shutdown -c
```

不指定选项和参数，默认表示 1 分钟之后 关闭电脑
远程维护服务器时，最好不要关闭系统，而应该重新启动系统

### 查看配置网卡信息

| 序 号 | 命令        | 对应英文                      | 作用                              |
| ----- | ----------- | ----------------------------- | --------------------------------- |
| 01    | ifconfig    | configure a network interface | 查看/配置计算机当前的网卡配置信息 |
| 02    | ping ip地址 | ping                          | 检测到目标 ip地址 的连接是否正常  |

#### ifconfig

ifconfig 可以查看／配置计算机当前的网卡配置信息

``` shell
# 查看网卡配置信息
$ ifconfig
# 查看网卡对应的 IP 地址
$ ifconfig | grep inet
```

# 高级命令

## 常用命令

| 序号 | 命令                              | 命令解释                               | 备注                      |
| ---- | --------------------------------- | -------------------------------------- | ------------------------- |
| 1    | top                               | 查看内存                               | 要退出 top 可以直接输入 q |
| 2    | df -h                             | 查看磁盘存储情况                       |                           |
| 3    | du -h [目录名]                    | disk usage 显示目录下的文件大小        |                           |
| 4    | iotop                             | 查看磁盘IO读写(yum install iotop安装） |                           |
| 5    | iotop -o                          | 直接查看比较高的磁盘读写程序           |                           |
| 6    | netstat -tlnp \| grep 端口号      | 查看端口占用情况                       |                           |
| 7    | uptime                            | 查看报告系统运行时长及平均负载         |                           |
| 8    | ps -aux     或  ps -ef\|grep java | 查看进程                               |                           |
| 9    | jps                               | 查看进程                               |                           |
| 10   | kill -9 pid                       | 杀死进程                               |                           |

## 补充命令

### 1. netstat -tlnp|grep 端口号

``` shell
netstat -tlnp|grep 3306
```

### 2. ss -ltnp | grep 端口号

``` shell
ss -ltnp|grep 3306
```

### 3. lsof -i :端口号

